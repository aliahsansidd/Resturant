<div class="container content-width-100">
  <div class="row  align-items-center justify-content-between">
    <div class="col-11 col-sm-12 page-title">
      <h3>Birth Registration</h3>
      <p>Register New Child</p>
    </div>
    <div class="col text-right ">
        <div><button class="btn btn-success pull-right" (click)="showModal()">Find Patient</button></div>
      </div> 
  </div>
  <div class="row">
    <div class="col-xl-16">
      <div class="card">
        <form #fm="ngForm">
          <div class="card-header">
            <h5 class="card-title">Add New Birth</h5>
          </div>
          <div class="card-body">
            <div class="row justify-content-center">
              <div class="col-md-10">
                <div class="row">

                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(bookSr.valid || (bookSr.pristine && !fm.submitted)) || (bookSr.errors && (bookSr.dirty || bookSr.touched ))">
                      <label>Book Sr.No</label>
                      <input type="text" class="form-control" name="bookSr" #bookSr="ngModel" required placeholder="Book Serial No."
                        id="example-text-input" [(ngModel)]="Birth.bookSrNumber">
                      <div [hidden]="bookSr.valid || (bookSr.pristine && !fm.submitted) && (bookSr.errors && (bookSr.dirty || bookSr.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-8 col-md-8">
                    <!-- <div class="form-group" [class.has-error]="!(mrNo.valid || (mrNo.pristine && !fm.submitted)) || (mrNo.errors && (mrNo.dirty || mrNo.touched ))"> -->
                      <label>Mother's MR#</label>
                      <input class="form-control" disabled type="text" required placeholder="Mother's MR#" name="mrNo" #mrNo="ngModel"
                        [(ngModel)]="Birth.displayId" id="example-text-input">
                      <!-- <div [hidden]="mrNo.valid || (mrNo.pristine && !fm.submitted) && (mrNo.errors && (mrNo.dirty || mrNo.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div> -->
                    <!-- </div> -->
                  </div>


                  <!-- <label for="example-text-input" class="col-sm-2 col-form-label">Child's Gender</label>
            <div class="col-3">
              <select class="form-control">
                <option selected="selected">Select gender</option>
                <option>Male</option>
                <option>Female</option>
              </select>
            </div> -->
                </div>
                <div class="row">

                  <div class="col-lg-8 col-md-8">

                    <label>BR Number</label>
                    <input class="form-control" type="text" name="brNo" [(ngModel)]="Birth.bookSrNumber" placeholder="Birth Registration No" disabled id="example-text-input">
                  </div>
                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(gender.valid || (gender.pristine && !fm.submitted)) || (gender.errors && (gender.dirty || gender.touched ))">
                      <label>Child's Gender</label>
                      <select class="form-control" required (change)="GetChildName()" name="gender" #gender="ngModel"
                        [(ngModel)]="Birth.childGender">
                        <option selected="selected" hidden disabled [value]="null">Select</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                      </select>
                      <div [hidden]="gender.valid || (gender.pristine && !fm.submitted) && (gender.errors && (gender.dirty || gender.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div>
                    </div>
                  </div>


                </div>

                <div class=" row ">

                  <div class="col-lg-8 col-md-8">
                      <label>Mother’s Name</label>
                      <input class="form-control" disabled type="text" placeholder="Mother’s Name" name="motherName" required
                        #motherName="ngModel" id="example-text-input" (change)="GetChildName()" (blur)="GetChildName()"
                        [(ngModel)]="Birth.MotherName">
                    
                  </div>
                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(TOD.valid || (TOD.pristine && !fm.submitted)) || (TOD.errors && (TOD.dirty || TOD.touched ))">
                      <label> Type of Delivery </label>
                      <select class="form-control" name="typeOfDelivery" required #TOD="ngModel" [(ngModel)]="Birth.typeOfDelivery"
                        required>
                        <option selected="selected" disabled hidden [value]="null">Select</option>
                        <option>Caesarian Section (C- Section)</option>
                        <option>Vacuum Extraction</option>
                        <option>Forceps Delivery</option>
                      </select>
                      <div [hidden]="TOD.valid || (TOD.pristine && !fm.submitted) && (TOD.errors && (TOD.dirty || TOD.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div>
                    </div>
                  </div>


                </div>
                <div class=" row ">

                  <div class="col-lg-8 col-md-8">
                    <!-- <div class="form-group" [class.has-error]="!(childName.valid || (childName.pristine && !fm.submitted)) || (childName.errors && (childName.dirty || childName.touched ))"> -->
                    <label>Child’s Name</label>
                    <input class="form-control" type="text" disabled placeholder="Child’s Name" name="childName"
                      required #childName="ngModel" id="example-text-input" [(ngModel)]="Birth.childName">
                    <!-- <div [hidden]="childName.valid || (childName.pristine && !fm.submitted) && (childName.errors && (childName.dirty || childName.touched )) == false"
                    class="form-control-feedback">
                    Error: Please Enter OPD Name
                  </div> -->
                    <!-- </div> -->
                  </div>

                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(timeOfBirth.valid || (timeOfBirth.pristine && !fm.submitted)) || (timeOfBirth.errors && (timeOfBirth.dirty || timeOfBirth.touched ))">
                      <label>Time of Birth</label>
                      <input class="form-control" type="time" name="time" required #timeOfBirth="ngModel" [(ngModel)]="Birth.time"
                        id="example-text-input">
                      <div [hidden]="timeOfBirth.valid || (timeOfBirth.pristine && !fm.submitted) && (timeOfBirth.errors && (timeOfBirth.dirty || timeOfBirth.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div>
                    </div>
                  </div>


                </div>
                <div class=" row ">

                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(weight.valid || (weight.pristine && !fm.submitted)) || (weight.errors && (weight.dirty || weight.touched ))">
                      <label> Weight </label>
                      <input class="form-control" type="number" placeholder="Weight" name="weight" required #weight="ngModel"
                        id="example-text-input" [(ngModel)]="Birth.weight">
                      <div [hidden]="weight.valid || (weight.pristine && !fm.submitted) && (weight.errors && (weight.dirty || weight.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-8 col-md-8">
                    <label> Mother’s CNIC </label>
                    <input class="form-control" type="text" name="MothrCNIC" disabled placeholder="Mother’s CNIC" id="example-text-input"
                      [(ngModel)]="Birth.MotherCnic">
                  </div>




                </div>
                <div class=" row ">

                  <div class="col-lg-8 col-md-8">
                    <label> Father’s Name </label>
                    <input class="form-control" type="text" name="fatherName" disabled placeholder="Father’s Name" id="example-text-input"
                      [(ngModel)]="Birth.FatherName">
                  </div>
                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(birthDate.valid || (birthDate.pristine && !fm.submitted)) || (birthDate.errors && (birthDate.dirty || birthDate.touched ))">
                      <label> Birth Date </label>
                      <input class="form-control" required type="date" id="example-text-input" name="birthDate" #birthDate="ngModel"
                        [(ngModel)]="Birth.birthDate">
                      <div [hidden]="birthDate.valid || (birthDate.pristine && !fm.submitted) && (birthDate.errors && (birthDate.dirty || birthDate.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div>
                    </div>
                  </div>



                </div>
                <div class=" row">

                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(doctor.valid || (doctor.pristine && !fm.submitted)) || (doctor.errors && (doctor.dirty || doctor.touched ))">
                    <label> Delivery Doctor </label>

                    <select class="form-control" name="doctor" required id="doctor" #doctor="ngModel" [(ngModel)]="Birth.doctorId">
                      <option selected="selected" hidden disabled [value]="null">Select</option>
                      <option *ngFor="let item of GynoDoctor" [value]="item.doctorId">{{item.doctorUser.fullName}}</option>

                    </select>
                    <div [hidden]="doctor.valid || (doctor.pristine && !fm.submitted) && (doctor.errors && (doctor.dirty || doctor.touched )) == false"
                    class="form-control-feedback">
                    Error: Please Enter OPD Name
                  </div>
                  </div>
                  </div>

                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(caseConducted.valid || (caseConducted.pristine && !fm.submitted)) || (caseConducted.errors && (caseConducted.dirty || caseConducted.touched ))">
                      <label> Case Conducted by </label>
                      <input type="text" class="form-control" required name="caseConducted" placeholder="Disability" id="example-text-input"
                        [(ngModel)]="Birth.caseConductedBy" #caseConducted="ngModel">
                      <div [hidden]="caseConducted.valid || (caseConducted.pristine && !fm.submitted) && (caseConducted.errors && (caseConducted.dirty || caseConducted.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div>
                    </div>
                  </div>


                </div>
                <div class=" row ">

                  <div class="col-lg-8 col-md-8">
                    <label> Religion </label>
                    <select class="form-control" name="religion">
                      <option selected="selected">Islam</option>
                      <option>Hindu</option>
                      <option>Others</option>
                    </select>
                  </div>
                  <div class="col-lg-8 col-md-8">

                    <label> Contact</label>
                    <input class="form-control" disabled name="contact" type="number" placeholder="Contact" id="example-text-input"
                      [(ngModel)]="Birth.Contact">
                  </div>

                </div>

                <div class=" row">

                  <div class="col-lg-8 col-md-8">
                    <label> Address </label>
                    <textarea class="form-control" rows="1" cols="1" disabled name="address" placeholder="HNo.,Street,City,District" id="example-text-input"
                      [(ngModel)]="Birth.Address"></textarea>
                  </div>
                  <div class="col-lg-8 col-md-8">
                    <div class="form-group" [class.has-error]="!(disablity.valid || (disablity.pristine && !fm.submitted)) || (disablity.errors && (disablity.dirty || disablity.touched ))">
                      <label> Disability </label>
                      <input type="text" required class="form-control" placeholder="Disability" id="example-text-input"
                        name="disablity" #disablity="ngModel" [(ngModel)]="Birth.disability">
                      <div [hidden]="disablity.valid || (disablity.pristine && !fm.submitted) && (disablity.errors && (disablity.dirty || disablity.touched )) == false"
                        class="form-control-feedback">
                        Error: Please Enter OPD Name
                      </div>
                    </div>
                  </div>


                </div>

              </div>
            </div>
          </div>
          <div class="card-footer">
            <div class="col text-right">
              <div class="btn-group pull-right">
                <button class="btn btn-primary" name="btnm" type="submit" (click)="Save()"><span class="text">Save</span> <i class="fa fa-save"></i></button>
              </div>
              <div class="btn-group pull-right">
                <pre> </pre>
              </div>
              <div class="btn-group pull-right">

                <button class="btn btn-secondary" name="btnreset" type="reset" (click)="fm.resetForm();"><span class="text">Reset</span>
                  <i class="fa fa-refresh"></i></button>
              </div>
            </div>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>

<div>
    <nz-modal [nzWidth]="789" [(nzVisible)]="isVisible" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter" (nzOnCancel)="handleCancel()">
      <!-- <ng-template #modalTitle class="search-ng-template">
        Find Patient
        <div class="search-selector"><app-search-field [patientData]="patientData"> </app-search-field></div>
      </ng-template> -->
      <ng-template  #modalContent>
        <div class="search-selector">
          <app-search-field [patientData]="AllPatientToFind" style="width: 100%; height: 325px;"> </app-search-field>
        </div>
       
      </ng-template>
      <ng-template style="display: none;" #modalFooter>
      <!-- <button nz-button nzType="default" (click)="Print(modalContent.value)">Print</button> 
        <button nz-button nzType="default" (click)="handleCancel()">Close</button>
        <button nz-button nzType="primary" (click)="handleOk()" [nzLoading]="isConfirmLoading">Edit Patient</button> -->
      </ng-template>
    </nz-modal>
  </div>
<app-birth-certificate [DataSource]="inputData" [_Print]="IsPrint"></app-birth-certificate>