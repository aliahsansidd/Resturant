<form #f="ngForm" autocomplete="off">
<div class="container">
  <div class="row  align-items-center justify-content-between">
    <div class="col-11 col-sm-12 page-title">
      <h3>Purchase</h3>
      <p>product purchase info</p>
    </div>
    <div class="col text-right ">
      <div class="btn-group pull-right">
        <button class="btn btn-danger btn-round " (click)="createTplModal(tplTitle, tplContent, tplFooter)" data-toggle="modal" data-target="#themepicker">
          <span class="text">Purchase Invoice</span>
          <i class="fa fa-file ml-2"></i>
        </button>
      </div>
    </div>
  </div>

 
    <div class="card">
      <div class="card-header">
        <h5 class="card-title">Purchase Invoice</h5>
      </div>
      <div class="card-body">
        <div class="row justify-content-center">
          <div class="col-md-10">
            <!-- Purchase Order -->
            <div class="row">
              <div class="col-lg-16 col-md-16">
                <div class="row">
                  <div class="col-10">
                    <strong>
                      <h5 style="margin-top: 10px;">Purchase Order</h5>
                    </strong>
                  </div>
                </div>
                <hr style="margin-top: -8px;" />
              </div>
            </div>
            <div class="row">
              <div class="col-lg-8 col-md-8">
                <div class="form-group" [class.has-error]="!(OrderID.valid || (OrderID.pristine && !f.submitted)) || (OrderID.errors && (OrderID.dirty || OrderID.touched ))">
                  <label>Order ID</label>
                  <input class="form-control" id="Order IDs" name="OrderID" required #OrderID="ngModel" [(ngModel)]="Bed.roomId">
                  <div [hidden]="OrderID.valid || (OrderID.pristine && !f.submitted) && ((OrderID.errors && (OrderID.dirty || OrderID.touched )) == false)"
                    class="form-control-feedback">
                    Error: Please Enter Order ID
                  </div>
                </div>
              </div>
              <div class="col-lg-8 col-md-8">
                <div class="form-group" [class.has-error]="!(SupplierCode.valid || (SupplierCode.pristine && !f.submitted)) || (SupplierCode.errors && (SupplierCode.dirty || SupplierCode.touched ))">
                  <label>Supplier Code</label>
                  <input class="form-control" name="SupplierCode" required #SupplierCode="ngModel" [(ngModel)]="Bed.roomId">
                  <div [hidden]="SupplierCode.valid || (SupplierCode.pristine && !f.submitted) && ((SupplierCode.errors && (SupplierCode.dirty || SupplierCode.touched )) == false)"
                    class="form-control-feedback">
                    Error: Please Enter Supplier Code  
                  </div>
                </div>
              </div> 
              <div class="col-lg-8 col-md-8">
                <div class="form-group" [class.has-error]="!(SupplierName.valid || (SupplierName.pristine && !f.submitted)) || (SupplierName.errors && (SupplierName.dirty || SupplierName.touched ))">
                  <label>Supplier Name</label>
                  <select class="form-control" name="SupplierName" required #SupplierName="ngModel" [(ngModel)]="Bed.roomId">
                    <option selected="selected" hidden disabled="disabled" [value]="null">Select</option> 
                    <option [value]="item.id" *ngFor="let item of SupplierNameCollection">
                      {{item.name}}
                    </option>
                  </select>
                  <div [hidden]="SupplierName.valid || (SupplierName.pristine && !f.submitted) && ((SupplierName.errors && (SupplierName.dirty || SupplierName.touched )) == false)"
                    class="form-control-feedback">
                    Error: Please Enter Supplier Name
                  </div>
                </div>
              </div>
              <div class="col-lg-8 col-md-8">
                <div class="form-group" [class.has-error]="!(BrandName.valid || (BrandName.pristine && !f.submitted)) || (BrandName.errors && (BrandName.dirty || BrandName.touched ))">
                  <label>Brand Name</label>
                  <select class="form-control" name="BrandName" required #BrandName="ngModel" [(ngModel)]="Bed.roomId">
                    <option selected="selected" hidden disabled="disabled" [value]="null">Select</option>

                    <option [value]="item.id" *ngFor="let item of BrandNameCollection">
                      {{item.name}}
                    </option>
                  </select>
                  <div [hidden]="BrandName.valid || (BrandName.pristine && !f.submitted) && ((BrandName.errors && (BrandName.dirty || BrandName.touched )) == false)"
                    class="form-control-feedback">
                    Error: Please Select Brand Name
                  </div>
                </div>
              </div>
              <div class="col-lg-8 col-md-8">
                <div class="form-group" [class.has-error]="!(ProductName.valid || (ProductName.pristine && !f.submitted)) || (ProductName.errors && (ProductName.dirty || ProductName.touched ))">
                  <label>Product Name</label>
                  <select class="form-control" name="ProductName" required #ProductName="ngModel" [(ngModel)]="Bed.roomId">
                    <option selected="selected" hidden disabled="disabled" [value]="null">Select</option>

                    <option [value]="item.id" *ngFor="let item of ProductGenericCollection">
                      {{item.name}}
                    </option>
                  </select>
                  <div [hidden]="ProductName.valid || (ProductName.pristine && !f.submitted) && ((ProductName.errors && (ProductName.dirty || ProductName.touched )) == false)"
                    class="form-control-feedback">
                    Error: Please Product Name
                  </div>
                </div>
              </div>
              <div class="col-lg-8 col-md-8">
                <div class="form-group" [class.has-error]="!(ProductQuantity.valid || (ProductQuantity.pristine && !f.submitted)) || (ProductQuantity.errors && (ProductQuantity.dirty || ProductQuantity.touched ))">
                  <label>Product Quantity</label>
                  <input class="form-control" type="number" name="ProductQuantity" required #ProductQuantity="ngModel" [(ngModel)]="Bed.roomId">
                  <div [hidden]="ProductQuantity.valid || (ProductQuantity.pristine && !f.submitted) && ((ProductQuantity.errors && (ProductQuantity.dirty || ProductQuantity.touched )) == false)"
                    class="form-control-feedback">
                    Error: Please Enter Product Quantity
                  </div>
                </div>
              </div> 
            </div> 
          </div>
        </div>
      </div>
      <div class="card-footer">
          <div class="col text-right">
            <div class="btn-group pull-right">
              <button class="btn btn-primary" name="btnsave" (click)="Save()">
                <span class="text">Save</span>
                <i class="fa fa-save"></i>
              </button>
            </div>
            <div class="btn-group pull-right">
              <pre> </pre>
            </div>
            <div class="btn-group pull-right">

              <button class="btn btn-secondary" type="reset" value="Reset" name="brnReset" (click)="Reset()">
                <span class="text">Reset</span>
                <i class="fa fa-refresh"></i>
              </button>
            </div>
          </div>
        </div>
    </div>
</div>
<div>
<nz-modal [nzWidth]="789" [(nzVisible)]="isVisible" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter"
(nzOnCancel)="handleCancel()"> 
<ng-template #modalContent>
  <div class="search-selector">
    <!-- <app-search-field [patientData]="AllPatientToFind" style="width: 100%; height: 325px;"> </app-search-field> -->
  </div>

</ng-template>
<ng-template style="display: none;" #modalFooter>
</ng-template>
</nz-modal>
</div>

<ng-template #tplTitle>
<ul class="nav nav-tabs card-header" role="tablist">
<li class="nav-item"> <a class="nav-link active" data-toggle="tab" href="#BroughterDetails" role="tab">Purchase Invoice</a> </li>
</ul>
</ng-template>
<ng-template #tplContent>
<div class="card-body">
<div class="justify-content-center container">
  <div class="col-md-18 ">
    <div class="tab-content">
      <!-- Broughter Detail --> 
      <div class="tab-pane active"    id="BroughterDetails" role="tabpanel">
        <div class="row" >
          <div class="col-lg-16 col-md-16">
            <div class="row">
              <div class="col-10">
                <strong>
                  <h5 style="margin-top: 10px;">Purchase Invoice</h5>
                </strong>
              </div>
            </div>
            <hr style="margin-top: -8px;" />
          </div>
        </div>
        <div class="row">
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(OrderID.valid || (OrderID.pristine && !f.submitted)) || (OrderID.errors && (OrderID.dirty || OrderID.touched ))">
              <label>Order ref ID</label>
              <input class="form-control" id="Order IDs" name="OrderID" required #OrderID="ngModel" [(ngModel)]="Bed.roomId">
              <div [hidden]="OrderID.valid || (OrderID.pristine && !f.submitted) && ((OrderID.errors && (OrderID.dirty || OrderID.touched )) == false)"
                class="form-control-feedback">
                Error: Please Enter Order ID
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(SupplierCode.valid || (SupplierCode.pristine && !f.submitted)) || (SupplierCode.errors && (SupplierCode.dirty || SupplierCode.touched ))">
              <label>Supplier Code</label>
              <input class="form-control" name="SupplierCode" required #SupplierCode="ngModel" [(ngModel)]="Bed.roomId">
              <div [hidden]="SupplierCode.valid || (SupplierCode.pristine && !f.submitted) && ((SupplierCode.errors && (SupplierCode.dirty || SupplierCode.touched )) == false)"
                class="form-control-feedback">
                Error: Please Enter Supplier Code  
              </div>
            </div>
          </div> 
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(SupplierName.valid || (SupplierName.pristine && !f.submitted)) || (SupplierName.errors && (SupplierName.dirty || SupplierName.touched ))">
              <label>Supplier Name</label>
              <select class="form-control" name="SupplierName" required #SupplierName="ngModel" [(ngModel)]="Bed.roomId">
                <option selected="selected" hidden disabled="disabled" [value]="null">Select</option> 
                <option [value]="item.id" *ngFor="let item of SupplierNameCollection">
                  {{item.name}}
                </option>
              </select>
              <div [hidden]="SupplierName.valid || (SupplierName.pristine && !f.submitted) && ((SupplierName.errors && (SupplierName.dirty || SupplierName.touched )) == false)"
                class="form-control-feedback">
                Error: Please Enter Supplier Name
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(BrandName.valid || (BrandName.pristine && !f.submitted)) || (BrandName.errors && (BrandName.dirty || BrandName.touched ))">
              <label>Brand Name</label>
              <select class="form-control" name="BrandName" required #BrandName="ngModel" [(ngModel)]="Bed.roomId">
                <option selected="selected" hidden disabled="disabled" [value]="null">Select</option>

                <option [value]="item.id" *ngFor="let item of BrandNameCollection">
                  {{item.name}}
                </option>
              </select>
              <div [hidden]="BrandName.valid || (BrandName.pristine && !f.submitted) && ((BrandName.errors && (BrandName.dirty || BrandName.touched )) == false)"
                class="form-control-feedback">
                Error: Please Select Brand Name
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(PurchaseDate.valid || (PurchaseDate.pristine && !f.submitted)) || (PurchaseDate.errors && (PurchaseDate.dirty || PurchaseDate.touched ))">
              <label>Purchase Date</label>
              <input type="text" class="form-control" name="PurchaseDate" #PurchaseDate="ngModel" [(ngModel)]="Bed.roomId" required
                placeholder="MM/DD/YYYY" bsDatepicker>
              <div [hidden]="PurchaseDate.valid || (PurchaseDate.pristine && !f.submitted) && ((PurchaseDate.errors && (PurchaseDate.dirty || PurchaseDate.touched )) == false)"
                class="form-control-feedback">
                <div [hidden]="!PurchaseDate.errors" class="form-control-feedback">
                  Error: Please Enter Purchase Date
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(InvoiceNo.valid || (InvoiceNo.pristine && !f.submitted)) || (InvoiceNo.errors && (InvoiceNo.dirty || InvoiceNo.touched ))">
              <label>Invoice No</label>
              <input class="form-control" type="text" pattern="[a-zA-Z ]*" placeholder="Enter Invoice No" name="InvoiceNo" #InvoiceNo="ngModel"
                [(ngModel)]="Bed.InvoiceNo" required>
              <div [hidden]="InvoiceNo.valid || (InvoiceNo.pristine && !f.submitted) && ((InvoiceNo.errors && (InvoiceNo.dirty || InvoiceNo.touched )) == false)"
                class="form-control-feedback">
                <div [hidden]="!InvoiceNo.errors?.required" class="form-control-feedback">
                  Error: Please Enter Invoice Number
                </div> 
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(Details.valid || (Details.pristine && !f.submitted)) || (Details.errors && (Details.dirty || Details.touched ))">
              <label>Details</label>
              <textarea rows="1" class="form-control" placeholder="Plot#, Street#, Block#, Area, City, Country" name="Details" #Details="ngModel"
                [(ngModel)]="Bed.Details" required>
             </textarea>
              <div [hidden]="Details.valid || (Details.pristine && !f.submitted) && ((Details.errors && (Details.dirty || Details.touched )) == false)"
                class="form-control-feedback">
                <div [hidden]="!Details.errors" class="form-control-feedback">
                  Error: Please Enter Details
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(ProductName.valid || (ProductName.pristine && !f.submitted)) || (ProductName.errors && (ProductName.dirty || ProductName.touched ))">
              <label>Product Name</label>
              <input class="form-control" id="Product Names" name="ProductName" required #ProductName="ngModel"  
                [(ngModel)]="Bed.roomId">
              <div [hidden]="ProductName.valid || (ProductName.pristine && !f.submitted) && ((ProductName.errors && (ProductName.dirty || ProductName.touched )) == false)"
                class="form-control-feedback">
                Error: Please Enter Product Name
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(BatchId.valid || (BatchId.pristine && !f.submitted)) || (BatchId.errors && (BatchId.dirty || BatchId.touched ))">
              <label>Batch Id</label>
              <input class="form-control" id="Batch Id" name="BatchId" required #BatchId="ngModel" 
                [(ngModel)]="Bed.roomId">
              <div [hidden]="BatchId.valid || (BatchId.pristine && !f.submitted) && ((BatchId.errors && (BatchId.dirty || BatchId.touched )) == false)"
                class="form-control-feedback">
                Error: Please Enter Batch Id
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(ExpiryDate.valid || (ExpiryDate.pristine && !f.submitted)) || (ExpiryDate.errors && (ExpiryDate.dirty || ExpiryDate.touched ))">
              <label>Expiry Date</label>
              <input class="form-control" type="text" bsDatepicker placeholder="MM/DD/YYYY" name="ExpiryDate" #ExpiryDate="ngModel"
                [(ngModel)]="Bed.ExpiryDate" required>
              <div [hidden]="ExpiryDate.valid || (ExpiryDate.pristine && !f.submitted) && ((ExpiryDate.errors && (ExpiryDate.dirty || ExpiryDate.touched )) == false)"
                class="form-control-feedback">
                <div [hidden]="!ExpiryDate.errors" class="form-control-feedback">
                  Error: Please Enter Expiry Date
                </div>
              </div> 
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(OrderedQuantity.valid || (OrderedQuantity.pristine && !f.submitted)) || (OrderedQuantity.errors && (OrderedQuantity.dirty || OrderedQuantity.touched ))">
              <label>Ordered Quantity</label>
              <input class="form-control" type="number" name="OrderedQuantity" required #OrderedQuantity="ngModel" [(ngModel)]="Bed.roomId">
              <div [hidden]="OrderedQuantity.valid || (OrderedQuantity.pristine && !f.submitted) && ((OrderedQuantity.errors && (OrderedQuantity.dirty || OrderedQuantity.touched )) == false)"
                class="form-control-feedback">
                Error: Please Enter Order Quantity
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(RecieveQuantity.valid || (RecieveQuantity.pristine && !f.submitted)) || (RecieveQuantity.errors && (RecieveQuantity.dirty || RecieveQuantity.touched ))">
              <label>Recieve Quantity</label>
              <input class="form-control" type="number" name="RecieveQuantity" required #RecieveQuantity="ngModel" [(ngModel)]="Bed.roomId">
              <div [hidden]="RecieveQuantity.valid || (RecieveQuantity.pristine && !f.submitted) && ((RecieveQuantity.errors && (RecieveQuantity.dirty || RecieveQuantity.touched )) == false)"
                class="form-control-feedback">
                Error: Please Enter Recieve Quantity
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(TotalPrice.valid || (TotalPrice.pristine && !f.submitted)) || (TotalPrice.errors && (TotalPrice.dirty || TotalPrice.touched ))">
              <label>Total Price</label>
              <input class="form-control" type="number" name="TotalPrice" required #TotalPrice="ngModel" [(ngModel)]="Bed.roomId">
              <div [hidden]="TotalPrice.valid || (TotalPrice.pristine && !f.submitted) && ((TotalPrice.errors && (TotalPrice.dirty || TotalPrice.touched )) == false)"
                class="form-control-feedback">
                Error: Please Enter Total Price
              </div>
            </div>
          </div>
          <div class="col-lg-8 col-md-8">
            <div class="form-group" [class.has-error]="!(PaymentStatus.valid || (PaymentStatus.pristine && !f.submitted)) || (PaymentStatus.errors && (PaymentStatus.dirty || PaymentStatus.touched ))">
              <label>Payment Status</label>
              <input class="form-control" name="PaymentStatus" #PaymentStatus="ngModel" type="text" [(ngModel)]="Bed.Name"
                placeholder="Enter Paid Amount" id="example-text-input" required>
              <div [hidden]="PaymentStatus.valid || (PaymentStatus.pristine && !f.submitted) && ((PaymentStatus.errors && (PaymentStatus.dirty || PaymentStatus.touched )) == false)"
                class="form-control-feedback">
                <div [hidden]="!PaymentStatus.errors?.required" class="form-control-feedback">
                  Error: Please Enter Payment Status
                </div>
              </div>
            </div>
          </div>
        </div> 
      </div>
      <!-- Ambulance form -->
      <div class="tab-pane" id="Ambulance" role="tabpanel"> 

      </div>
    </div>
  </div>
</div>
</div>
</ng-template>
<ng-template #tplFooter>
<button type="button" class="btn btn-warning" data-dismiss="modal" (click)="destroyTplModal()">Done <i class="fa fa-backward"></i></button>
<!-- <button nz-button nzType="primary" (click)="destroyTplModal()" >Close after submit</button> -->
</ng-template>
</form>